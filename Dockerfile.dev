
FROM cypress/base


COPY package*.json ./

RUN mkdir -p /usr/share/man/man1 && \
    apt-get update && \
    apt-get install -y sudo curl git openjdk-11-jdk && \ 
    npm ci --force 

RUN curl -s https://raw.githubusercontent.com/nektos/act/master/install.sh | sudo bash

WORKDIR /app

COPY . .

RUN npx prisma generate

EXPOSE 3000
CMD ["npm", "run", "dev"]